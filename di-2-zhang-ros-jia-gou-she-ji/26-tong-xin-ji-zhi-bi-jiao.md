## 2.6 通信机制比较

三种通信机制中，参数服务器是一种数据共享机制，可以在不同的节点之间共享数据，Topic 与 Service是在不同的节点之间传递数据，二者是ROS中最基础也是应用最为广泛的通信机制，有一定的相似性也有本质上的差异，在此做一下简单比较:

二者的实现流程也是比较相似的，都是涉及到四个要素:

* 要素1: 消息的发布方/客户端\(Publisher/Client\)
* 要素2: 消息的订阅方/服务端\(Subscriber/Server\)
* 要素3: 话题名称\(Topic/Service\)
* 要素4: 数据载体\(msg/srv\)

可以概括为: 两个节点通过话题关联到一起，并使用某种类型的数据载体实现数据传输。

二者的实现也是有本质差异的，具体比较如下:

|  | Topic\(话题\) | Service\(服务\) |
| :--- | :--- | :--- |
| 通信模式 | 发布/订阅 | 请求/响应 |
| 同步性 | 异步 | 同步 |
| 底层协议 | ROSTCP/ROSUDP | ROSTCP/ROSUDP |
| 缓冲区 | 有 | 无 |
| 时时性 | 弱 | 强 |
| 节点关系 | 多对多 | 一对多\(一个 Server\) |
| 通信数据 | msg | srv |
| 使用场景 | 连续高频的数据发布与接收:雷达、里程计 | 偶尔调用或执行某一项特定功能：拍照、语音识别 |



不同通信机制有一定的互补性，都有各自适应的应用场景。尤其是话题与服务通信，需要结合具体的应用场景与二者的差异，选择合适的通信机制。

